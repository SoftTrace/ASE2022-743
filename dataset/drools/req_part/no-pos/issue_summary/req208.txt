refactor work memori entri point code 
